//CODICE PROGETTO
<intent-filter>
    <action android:name="android.intent.action.SEND" />
    <action android:name="android.intent.action.SENDTO" />
    <category android:name="android.intent.category.DEFAULT" />
    <category android:name="android.intent.category.BROWSABLE" />
    <data android:scheme="sms" />
    <data android:scheme="smsto" />
    <data android:scheme="mms" />
    <data android:scheme="mmsto" />
</intent-filter>


//CODICE PROGETTO

//codice per sms manager
final String mansms = getPackageName();
if (!Telephony.Sms.getDefaultSmsPackage(this).equals(mansms)) {
    Intent mansmsintent = new Intent(Telephony.Sms.Intents.ACTION_CHANGE_DEFAULT);
    mansmsintent.putExtra(Telephony.Sms.Intents.EXTRA_PACKAGE_NAME, mansms);
    startActivity(mansmsintent);
}

//codice per sms manager superiore alla 5
if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M && checkSelfPermission(Manifest.permission.SEND_SMS) != PackageManager.PERMISSION_GRANTED){
    requestPermissions(new String[]{Manifest.permission.SEND_SMS},PERMISSIONS_REQUEST_SEND_SMS);
}

//codice per permessi dinamici
public void onRequestPermissionsResult(int requestCode, String[] permissions,int[] grantResults) {
    if (requestCode == PERMISSIONS_REQUEST_SEND_SMS) {
        if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {
            // Permission is granted
            // invio sms
        } else {
            Toast.makeText(this, "Until you grant the permission, we cannot display the names", Toast.LENGTH_SHORT).show();
        }
    }
}